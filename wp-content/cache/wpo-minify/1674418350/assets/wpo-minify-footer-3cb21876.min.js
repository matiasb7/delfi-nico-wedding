/*! This file is auto-generated */
!function(e,t){if("function"==typeof define&&define.amd)define("hoverintent",["module"],t);else if("undefined"!=typeof exports)t(module);else{var n={exports:{}};t(n),e.hoverintent=n.exports}}(this,function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};e.exports=function(e,n,o){function i(e,t){return y&&(y=clearTimeout(y)),b=0,p?void 0:o.call(e,t)}function r(e){m=e.clientX,d=e.clientY}function u(e,t){if(y&&(y=clearTimeout(y)),Math.abs(h-m)+Math.abs(E-d)<x.sensitivity)return b=1,p?void 0:n.call(e,t);h=m,E=d,y=setTimeout(function(){u(e,t)},x.interval)}function s(t){return L=!0,y&&(y=clearTimeout(y)),e.removeEventListener("mousemove",r,!1),1!==b&&(h=t.clientX,E=t.clientY,e.addEventListener("mousemove",r,!1),y=setTimeout(function(){u(e,t)},x.interval)),this}function c(t){return L=!1,y&&(y=clearTimeout(y)),e.removeEventListener("mousemove",r,!1),1===b&&(y=setTimeout(function(){i(e,t)},x.timeout)),this}function v(t){L||(p=!0,n.call(e,t))}function a(t){!L&&p&&(p=!1,o.call(e,t))}function f(){e.addEventListener("focus",v,!1),e.addEventListener("blur",a,!1)}function l(){e.removeEventListener("focus",v,!1),e.removeEventListener("blur",a,!1)}var m,d,h,E,L=!1,p=!1,T={},b=0,y=0,x={sensitivity:7,interval:100,timeout:0,handleFocus:!1};return T.options=function(e){var n=e.handleFocus!==x.handleFocus;return x=t({},x,e),n&&(x.handleFocus?f():l()),T},T.remove=function(){e&&(e.removeEventListener("mouseover",s,!1),e.removeEventListener("mouseout",c,!1),l())},e&&(e.addEventListener("mouseover",s,!1),e.addEventListener("mouseout",c,!1)),T}});
/*! This file is auto-generated */
!function(l,u,d){function m(e){27===e.which&&(e=w(e.target,".menupop"))&&(e.querySelector(".menupop > .ab-item").focus(),y(e,"hover"))}function f(e){var t;13!==e.which||w(e.target,".ab-sub-wrapper")||(t=w(e.target,".menupop"))&&(e.preventDefault(),(o(t,"hover")?y:b)(t,"hover"))}function p(e){var t;13===e.which&&(t=e.target.getAttribute("href"),-1<d.userAgent.toLowerCase().indexOf("applewebkit")&&t&&"#"===t.charAt(0)&&setTimeout(function(){var e=l.getElementById(t.replace("#",""));e&&(e.setAttribute("tabIndex","0"),e.focus())},100))}function h(e,t){w(t.target,".ab-sub-wrapper")||(t.preventDefault(),(t=w(t.target,".menupop"))&&(o(t,"hover")?y:(E(e),b))(t,"hover"))}function v(e){var t,n=e.target.parentNode;if(t=n?n.querySelector(".shortlink-input"):t)return e.preventDefault&&e.preventDefault(),e.returnValue=!1,b(n,"selected"),t.focus(),t.select(),!(t.onblur=function(){y(n,"selected")})}function g(){if("sessionStorage"in u)try{for(var e in sessionStorage)-1<e.indexOf("wp-autosave-")&&sessionStorage.removeItem(e)}catch(e){}}function o(e,t){return e&&(e.classList&&e.classList.contains?e.classList.contains(t):e.className&&-1<e.className.split(" ").indexOf(t))}function b(e,t){e&&(e.classList&&e.classList.add?e.classList.add(t):o(e,t)||(e.className&&(e.className+=" "),e.className+=t))}function y(e,t){var n,r;if(e&&o(e,t))if(e.classList&&e.classList.remove)e.classList.remove(t);else{for(n=" "+t+" ",r=" "+e.className+" ";-1<r.indexOf(n);)r=r.replace(n,"");e.className=r.replace(/^[\s]+|[\s]+$/g,"")}}function E(e){if(e&&e.length)for(var t=0;t<e.length;t++)y(e[t],"hover")}function L(e){if(!e.target||"wpadminbar"===e.target.id||"wp-admin-bar-top-secondary"===e.target.id)try{u.scrollTo({top:-32,left:0,behavior:"smooth"})}catch(e){u.scrollTo(0,-32)}}function w(e,t){for(u.Element.prototype.matches||(u.Element.prototype.matches=u.Element.prototype.matchesSelector||u.Element.prototype.mozMatchesSelector||u.Element.prototype.msMatchesSelector||u.Element.prototype.oMatchesSelector||u.Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n});e&&e!==l;e=e.parentNode)if(e.matches(t))return e;return null}l.addEventListener("DOMContentLoaded",function(){var n,e,t,r,o,a,s,i,c=l.getElementById("wpadminbar");if(c&&"querySelectorAll"in c){n=c.querySelectorAll("li.menupop"),e=c.querySelectorAll(".ab-item"),t=l.getElementById("wp-admin-bar-logout"),r=l.getElementById("adminbarsearch"),o=l.getElementById("wp-admin-bar-get-shortlink"),a=c.querySelector(".screen-reader-shortcut"),s=/Mobile\/.+Safari/.test(d.userAgent)?"touchstart":"click",y(c,"nojs"),"ontouchstart"in u&&(l.body.addEventListener(s,function(e){w(e.target,"li.menupop")||E(n)}),c.addEventListener("touchstart",function e(){for(var t=0;t<n.length;t++)n[t].addEventListener("click",h.bind(null,n));c.removeEventListener("touchstart",e)})),c.addEventListener("click",L);for(i=0;i<n.length;i++)u.hoverintent(n[i],b.bind(null,n[i],"hover"),y.bind(null,n[i],"hover")).options({timeout:180}),n[i].addEventListener("keydown",f);for(i=0;i<e.length;i++)e[i].addEventListener("keydown",m);r&&((s=l.getElementById("adminbar-search")).addEventListener("focus",function(){b(r,"adminbar-focused")}),s.addEventListener("blur",function(){y(r,"adminbar-focused")})),a&&a.addEventListener("keydown",p),o&&o.addEventListener("click",v),u.location.hash&&u.scrollBy(0,-32),t&&t.addEventListener("click",g)}})}(document,window,navigator);
class FormFunctions{constructor(){window.$=window.jQuery=window.jquery=jQuery
this.searchName()
this.uploadData()
this.continueToRestriction()}
searchName(){$("#guest-submit-button").click(function(e){e.preventDefault();let guest_name=$("#guest").val();if(guest_name){$.ajax({method:"GET",url:"/wp-json/search-name-api/search_guest_cpt_by_title/"+guest_name,success:function(data){const responseDiv=$('.response')
if(data.length===0){let failMessage='<div class="fail">Oops! Weâ€™re having trouble finding your invite. Please try another spelling of your name or contact the couple</div>'
$("#guest").after(failMessage)}else{$('.fail').remove()
$('#search_guest').addClass('hide-search')
responseDiv.append('<div style="margin-bottom: 2rem; font-size:28px;">Select your name from the list below:</div>')
data.forEach(function(item){let name=item.name
if(item.couple_name!==''){name=item.name+' & '+item.couple_name}
if(item.plus_guests!=!1){name=name+' & Plus Guest'}
responseDiv.append(`
                                    <div id="guest-${item.id}" data-guest="${item.id}" class="response-item">
                                        <div class="checkbox"></div>
                                        <div class="name-options-to-choose">${name}</div>
                                    </div>
                                    `)})
$('.response').after(`<div class="response-buttons">
                                    <button class="form-button form-button-continue ">Continue</button>
                                    <button class="form-button form-button-again ">Search Again</button>
                                </div>`)}},error:function(error){}})}})}
continueToRestriction(){$(document).on('click','.form-button-continue',function(e){let item=$('.response-item.active')
let id=item.attr('data-guest')
let response=$('.response')
response.attr('data-id',id)
$('.response-item').remove()
$('.response-buttons').remove()
if(id){let alreadyConfirmed=!1;$.ajax({method:"GET",url:"/wp-json/check-for-change/check-for-change/"+id,success:function(data){console.log(data)
if(data==!0){alreadyConfirmed=!0
$('.rsvp_text').find('h3').after('<div class="alert_message">You already did the confirmation, please contact the couple to change it!</div>')
response.remove()}},error:function(data){console.log(data)}});if(!alreadyConfirmed){$.ajax({method:"GET",url:"/wp-json/search-by-id/search-by-id/"+id,success:function(item){let people=[{name:item.name,type:'main'}]
if(item.couple_name!=''){people.push({name:item.couple_name,type:'couple'})}
if(item.plus_guests!=!1){people.push({name:'Plus Guest',type:'plus_guest'})}
people.forEach(function(person){response.append(`
                                <div class="guest-to-confirm" data-type="${person.type}">
                                    <div class="guest-to-confirm_name">${person.name}</div>
                                    <div class="guest-to-confirm_buttons">
                                        <button class="guest-to-confirm_button guest-to-confirm_accept">Accept</button>
                                        <button class="guest-to-confirm_button guest-to-confirm_decline">Decline</button>
                                    </div>
                                 </div>   
                                `)})
response.append(`
                            <textarea rows="8" placeholder="If there is any food restriction, enter here:"></textarea>
                            <button class="confirm-users-wedding form-button">Confirm Selection</button>
                            `)},})}}})}
uploadData(){$(document).on('click','.confirm-users-wedding',function(e){e.preventDefault();let container=$(this).parent()
let guests=container.find('.guest-to-confirm')
let alert=container.find('.alert_message')
if(alert){alert.remove()}
let nonConfirmed=!1;let confirmationTypes={'main':!1,'couple':!1,'plus_guest':!1}
guests.each(function(){let type=$(this).attr('data-type')
let classes=$(this).attr('class').split(' ');console.log(classes)
if(classes.includes('assist-true')){confirmationTypes[type]=!0}else if(classes.includes('assist-false')){confirmationTypes[type]=!1}else{nonConfirmed=!0}})
if(nonConfirmed){$('.response').append('<div class="alert_message">You need to confirm/decline all the guests to continue</div>')}else{let id=$(this).parent().attr('data-id')
confirmationTypes.id=id
confirmationTypes.restriction=$(this).parent().find('textarea').val();if(id){$.ajax({method:"POST",contentType:"application/json",dataType:"json",url:"/wp-json/upload-guest-info/upload-guest-restriction/",data:JSON.stringify(confirmationTypes),success:function(data){console.log(data)},error:function(error){console.log(error)}});$('.response').remove()
$('.rsvp_text').append(`
                    <div class="finish-form">Thanks for your confirmation, enjoy!</div>
                     <a href="${location.href.replace('rsvp/', '')}" class="guest-to-confirm_button">Homepage</a>
                    `)}}})}}
new FormFunctions();
class HeaderMenu{constructor(){window.$=window.jQuery=window.jquery=jQuery this.handleHeader()}
handleHeader(){const menuItems=$('.menu-item')
const mobileContainer=$('.mobile-menu-select')
const iconsTabsContainer=$('.menu')
const header=$('.header')
const tabs=$('.tab')
tabs.not(tabs.first()).hide()
const firstIconTab=menuItems.first().clone()
mobileContainer.prepend(firstIconTab)
iconsTabsContainer.find('.icon_box').first().addClass('hide-mobile')
mobileContainer.on('click',function(e){e.stopPropagation();header.toggleClass('active')})
$('body').on('click',function(){header.removeClass('active')})
menuItems.on('click',function(){if(!$(this).hasClass('current-tab')){const currentTab=$(this).index()
changeTab(currentTab)}})
function changeTab(currentTab){const selectedTab=tabs.eq(currentTab)
const selectedIconTab=menuItems.eq(currentTab)
selectedTab.fadeIn(700)
tabs.not(selectedTab).hide()
menuItems.removeClass("current-tab")
selectedIconTab.addClass("current-tab")
mobileContainer.find('.menu-item').remove()
mobileContainer.append(selectedIconTab.clone())
menuItems.removeClass('hide-mobile')
selectedIconTab.toggleClass('hide-mobile')
header.toggleClass('active')}}}
new HeaderMenu();
class FormAnimations{constructor(){window.$=window.jQuery=window.jquery=jQuery
this.checkboxAnimations()
this.confirmAssistance()
this.finishConfirmation()}
checkboxAnimations(){$(document).on('click','.checkbox',function(e){$('.response-item').removeClass('active')
$(this).parent().addClass('active')});$(document).on('click','.name-options-to-choose',function(e){$('.response-item').removeClass('active')
$(this).parent().addClass('active')})}
confirmAssistance(){$(document).on('click','.guest-to-confirm_button',function(e){let classToAdd='';if($(this).hasClass('guest-to-confirm_accept')){classToAdd='assist-true'}else if($(this).hasClass('guest-to-confirm_decline')){classToAdd='assist-false'}
let parentContainer=$(this).parent().parent()
parentContainer.removeClass('assist-true assist-false')
parentContainer.addClass(classToAdd)})}
finishConfirmation(){$(document).on('click','.confirm-users-wedding',function(e){})}}
new FormAnimations();
